<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Î”Î¹ÎµÏ…Î¸Ï…Î½Ï„Î®Ï‚ Î¤ÎµÏ‡Î½Î·Ï„Î®Ï‚ ÎÎ¿Î·Î¼Î¿ÏƒÏÎ½Î·Ï‚ - Î ÏÏŒÎ³ÏÎ±Î¼Î¼Î± Î•ÎºÏ€Î±Î¯Î´ÎµÏ…ÏƒÎ·Ï‚</title>
    <link rel="stylesheet" href="book-style.css">
    <link rel="stylesheet" href="theme-switcher.css">
    <link rel="stylesheet" href="assets/fontawesome/css/all.min.css">
</head>
<body class="aiq-dashboard-page">
    <!-- Living Margin Canvas - The Creative Edge -->
    <canvas id="living-margin-canvas"></canvas>
    
    <!-- Clear Doodles Button -->
    <button id="clear-doodles-btn" title="ÎšÎ±Î¸Î±ÏÎ¹ÏƒÎ¼ÏŒÏ‚ Î£ÎºÎ¯Ï„ÏƒÏ‰Î½">
        <i class="fa-solid fa-eraser"></i>
    </button>

    <!-- AI-Q Dashboard Layout -->
    <div class="aiq-dashboard">
        <!-- Left Column: AI-Q Profile & Progress -->
        <div class="aiq-profile-section">
            <div class="aiq-profile-header">
                <h2 class="aiq-title">Î— Î ÏÏŒÎ¿Î´ÏŒÏ‚ Î¼Î¿Ï…</h2>
                <div class="aiq-subtitle">AI-Q Score</div>
            </div>
            
            <!-- AI-Q Score Display -->
            <div class="aiq-score-container">
                <div class="aiq-score-display">
                    <span class="aiq-score-number" id="iq-score">85</span>
                    <span class="aiq-score-label">AI-Q</span>
                </div>
                <div class="aiq-score-description" id="iq-description">
                    Î‘ÏÏ‡Î¬ÏÎ¹Î¿Ï‚ Î£Ï„ÏÎ±Ï„Î·Î³ÏŒÏ‚
                </div>
            </div>
            
            <!-- AI-Q Progress Bar -->
            <div class="aiq-bar-container">
                <div class="aiq-bar-background">
                    <div class="aiq-bar-fill" id="iq-bar-fill" style="height: 15%;">
                        <div class="aiq-bar-glow"></div>
                    </div>
                </div>
                <div class="aiq-bar-labels">
                    <span class="aiq-bar-min">50</span>
                    <span class="aiq-bar-max">200</span>
                </div>
            </div>
            
            <!-- Achievement Status -->
            <div class="aiq-achievements">
                <div class="aiq-stat">
                    <i class="fa-solid fa-trophy"></i>
                    <span class="aiq-stat-value" id="completed-levels">0</span>
                    <span class="aiq-stat-label">Î•Ï€Î¯Ï€ÎµÎ´Î±</span>
                </div>
                <div class="aiq-stat">
                    <i class="fa-solid fa-star"></i>
                    <span class="aiq-stat-value" id="total-points">0</span>
                    <span class="aiq-stat-label">Î ÏŒÎ½Ï„Î¿Î¹</span>
                </div>
                <div class="aiq-stat">
                    <i class="fa-solid fa-brain"></i>
                    <span class="aiq-stat-value" id="iq-rank">ÎÎµÏŒÏ†Ï…Ï„Î¿Ï‚</span>
                    <span class="aiq-stat-label">Î’Î±Î¸Î¼Î¯Î´Î±</span>
                </div>
            </div>
            
            <!-- Quick Actions -->
            <div class="aiq-quick-actions">
                <button class="aiq-action-btn" onclick="toggleProgressDetails()">
                    <i class="fa-solid fa-chart-line"></i>
                    Î›ÎµÏ€Ï„Î¿Î¼Î­ÏÎµÎ¹ÎµÏ‚ Î ÏÎ¿ÏŒÎ´Î¿Ï…
                </button>
                <button class="aiq-action-btn secondary" onclick="resetProgress()">
                    <i class="fa-solid fa-refresh"></i>
                    Î•Ï€Î±Î½ÎµÎºÎºÎ¯Î½Î·ÏƒÎ·
                </button>
            </div>
        </div>

        <!-- Right Column: Learning Path & Content -->
        <div class="aiq-content-section">
            <div class="aiq-content-header">
                <h1 class="aiq-main-title">Î”Î¹ÎµÏ…Î¸Ï…Î½Ï„Î®Ï‚ Î¤ÎµÏ‡Î½Î·Ï„Î®Ï‚ ÎÎ¿Î·Î¼Î¿ÏƒÏÎ½Î·Ï‚</h1>
                <p class="aiq-main-subtitle">
                    ÎŸÎ»Î¿ÎºÎ»Î·ÏÏ‰Î¼Î­Î½Î¿ Ï€ÏÏŒÎ³ÏÎ±Î¼Î¼Î± ÎµÎºÏ€Î±Î¯Î´ÎµÏ…ÏƒÎ·Ï‚ ÏƒÎµ ÏƒÏ„ÏÎ±Ï„Î·Î³Î¹ÎºÎ® ÎºÎ±Î¹ Ï…Î»Î¿Ï€Î¿Î¯Î·ÏƒÎ· Î¤ÎµÏ‡Î½Î·Ï„Î®Ï‚ ÎÎ¿Î·Î¼Î¿ÏƒÏÎ½Î·Ï‚.<br>
                    <strong>Î ÏÎ¿Ï‡Ï‰ÏÎ®ÏƒÏ„Îµ ÏƒÏ„Î± ÎµÏ€Î¯Ï€ÎµÎ´Î± Î¼Îµ Ï„Î· ÏƒÎµÎ¹ÏÎ¬ Î³Î¹Î± Î½Î± Î±Ï…Î¾Î®ÏƒÎµÏ„Îµ Ï„Î¿ AI-Q ÏƒÎ±Ï‚.</strong>
                </p>
            </div>

            <!-- Learning Path Table -->
            <div class="learning-path-table">
                <h3>ğŸ“š ÎœÎ±Î¸Î·ÏƒÎ¹Î±ÎºÎ® Î”Î¹Î±Î´ÏÎ¿Î¼Î®</h3>
                <table class="levels-table">
                    <thead>
                        <tr>
                            <th>Î•Ï€Î¯Ï€ÎµÎ´Î¿</th>
                            <th>Î¤Î¯Ï„Î»Î¿Ï‚</th>
                            <th>Î ÎµÏÎ¹Î³ÏÎ±Ï†Î®</th>
                            <th>AI-Q Î ÏŒÎ½Ï„Î¿Î¹</th>
                            <th>ÎšÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ·</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="level-unlocked">
                            <td>ğŸ“š 0</td>
                            <td><a href="ai-smart-dummies-guide.html">Î‘Î»Ï†Î±Î²Î·Ï„Î¬ÏÎ¹Î¿Î½ - Î ÏÏÏ„Î± Î’Î®Î¼Î±Ï„Î±</a></td>
                            <td>Î•Î¹ÏƒÎ±Î³Ï‰Î³Î® ÏƒÏ„Î· ÏƒÏ„ÏÎ±Ï„Î·Î³Î¹ÎºÎ® ÏƒÎºÎ­ÏˆÎ· Î³Î¹Î± Ï„Î·Î½ Î¤Î</td>
                            <td>+8</td>
                            <td><span class="status-available">Î”Î¹Î±Î¸Î­ÏƒÎ¹Î¼Î¿</span></td>
                        </tr>
                        <tr class="level-locked">
                            <td>ğŸ“– 1</td>
                            <td><a href="student_workbook_enhanced.html">Î¤ÎµÏ„ÏÎ¬Î´Î¹Î¿Î½ Î•ÏÎ³Î±ÏƒÎ¹ÏÎ½</a></td>
                            <td>Î•Ï†Î±ÏÎ¼Î¿ÏƒÎ¼Î­Î½ÎµÏ‚ Î±ÏƒÎºÎ®ÏƒÎµÎ¹Ï‚ ÎºÎ±Î¹ Î±Î½Î±ÏƒÏ„Î¿Ï‡Î±ÏƒÎ¼ÏŒÏ‚</td>
                            <td>+10</td>
                            <td><span class="status-locked">ÎšÎ»ÎµÎ¹Î´Ï‰Î¼Î­Î½Î¿</span></td>
                        </tr>
                        <tr class="level-locked">
                            <td>ğŸ¬ 2</td>
                            <td><a href="videos.html">Î’Î¹Î½Ï„ÎµÎ¿Î¸Î®ÎºÎ·</a></td>
                            <td>ÎŸÏ€Ï„Î¹ÎºÎ¿Î±ÎºÎ¿Ï…ÏƒÏ„Î¹ÎºÏŒ ÎµÎºÏ€Î±Î¹Î´ÎµÏ…Ï„Î¹ÎºÏŒ Ï…Î»Î¹ÎºÏŒ</td>
                            <td>+15</td>
                            <td><span class="status-locked">ÎšÎ»ÎµÎ¹Î´Ï‰Î¼Î­Î½Î¿</span></td>
                        </tr>
                        <tr class="level-locked">
                            <td>ğŸ“• 3</td>
                            <td><a href="main-book.html">ÎšÏÏÎ¹Î¿ Î’Î¹Î²Î»Î¯Î¿</a></td>
                            <td>Î˜ÎµÏ‰ÏÎ·Ï„Î¹ÎºÎ® Î¸ÎµÎ¼ÎµÎ»Î¯Ï‰ÏƒÎ· ÎºÎ±Î¹ ÏƒÏ„ÏÎ±Ï„Î·Î³Î¹ÎºÎ®</td>
                            <td>+20</td>
                            <td><span class="status-locked">ÎšÎ»ÎµÎ¹Î´Ï‰Î¼Î­Î½Î¿</span></td>
                        </tr>
                        <tr class="level-locked">
                            <td>ğŸ”§ 4</td>
                            <td><a href="quick_reference_guide.html">Î•Î³ÎºÏŒÎ»Ï€Î¹Î¿Î½</a></td>
                            <td>Î“ÏÎ®Î³Î¿ÏÎ· Î±Î½Î±Ï†Î¿ÏÎ¬ ÎºÎ±Î¹ ÎµÏÎ³Î±Î»ÎµÎ¯Î±</td>
                            <td>+15</td>
                            <td><span class="status-locked">ÎšÎ»ÎµÎ¹Î´Ï‰Î¼Î­Î½Î¿</span></td>
                        </tr>
                        <tr class="level-locked">
                            <td>ğŸ‘¨â€ğŸ« 5</td>
                            <td><a href="instructor_implementation_guide_parts_1_2.html">ÎŸÎ´Î·Î³ÏŒÏ‚ Î•ÎºÏ€Î±Î¹Î´ÎµÏ…Ï„Î®</a></td>
                            <td>Î ÏÎ¿Ï‡Ï‰ÏÎ·Î¼Î­Î½Î· Ï…Î»Î¿Ï€Î¿Î¯Î·ÏƒÎ· ÎºÎ±Î¹ Î´Î¹Î´Î±ÏƒÎºÎ±Î»Î¯Î±</td>
                            <td>+25</td>
                            <td><span class="status-locked">ÎšÎ»ÎµÎ¹Î´Ï‰Î¼Î­Î½Î¿</span></td>
                        </tr>
                        <tr class="level-locked">
                            <td>ï¿½ 6</td>
                            <td><a href="digital_assets/index.html">Î•Ï€Î¿Ï€Ï„Î¹ÎºÎ¬ ÎœÎ­ÏƒÎ±</a></td>
                            <td>Î¨Î·Ï†Î¹Î±ÎºÎ¬ ÎµÏÎ³Î±Î»ÎµÎ¯Î± ÎºÎ±Î¹ Ï€ÏŒÏÎ¿Î¹</td>
                            <td>+15</td>
                            <td><span class="status-locked">ÎšÎ»ÎµÎ¹Î´Ï‰Î¼Î­Î½Î¿</span></td>
                        </tr>
                        <tr class="level-locked">
                            <td>ğŸ›ï¸ 7</td>
                            <td><a href="neo/index.html">ÎˆÎ´ÏÎ±</a></td>
                            <td>Î ÏÎ¿Ï‡Ï‰ÏÎ·Î¼Î­Î½Î± Î¸Î­Î¼Î±Ï„Î± ÎºÎ±Î¹ Î­ÏÎµÏ…Î½Î±</td>
                            <td>+30</td>
                            <td><span class="status-locked">ÎšÎ»ÎµÎ¹Î´Ï‰Î¼Î­Î½Î¿</span></td>
                        </tr>
                        <tr class="level-locked">
                            <td>ğŸŒ 8</td>
                            <td><a href="https://deefunxion.github.io/AILEADER/" target="_blank">Î‘Î³Ï‰Î³Î®</a></td>
                            <td>Î•Î¾Ï‰Ï„ÎµÏÎ¹ÎºÎ¿Î¯ Ï€ÏŒÏÎ¿Î¹ ÎºÎ±Î¹ ÎºÎ¿Î¹Î½ÏŒÏ„Î·Ï„Î±</td>
                            <td>+20</td>
                            <td><span class="status-locked">ÎšÎ»ÎµÎ¹Î´Ï‰Î¼Î­Î½Î¿</span></td>
                        </tr>
                        <tr class="level-locked">
                            <td>ğŸ“ 9</td>
                            <td><a href="didaskalia.html">Î”Î¹Î´Î±ÏƒÎºÎ±Î»Î¯Î±</a></td>
                            <td>ÎœÎ¬ÏƒÏ„ÎµÏ ÎºÎ»Î¬ÏƒÎ· ÎºÎ±Î¹ Ï€Î¹ÏƒÏ„Î¿Ï€Î¿Î¯Î·ÏƒÎ·</td>
                            <td>+50</td>
                            <td><span class="status-locked">ÎšÎ»ÎµÎ¹Î´Ï‰Î¼Î­Î½Î¿</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

        <!-- Legacy Navigation (Hidden by default) -->
        <div class="nav-menu" style="display: none;" id="legacy-nav">
            <a href="index.html">Î•ÏƒÏ„Î¯Î±</a>
            <a href="main-book.html">Î’Î¹Î²Î»Î¯Î¿Î½</a>
            <a href="student_workbook_enhanced.html">Î¤ÎµÏ„ÏÎ¬Î´Î¹Î¿Î½ Î•ÏÎ³Î±ÏƒÎ¹ÏÎ½</a>
            <a href="quick_reference_guide.html">Î•Î³ÎºÏŒÎ»Ï€Î¹Î¿Î½</a>
            <a href="instructor_implementation_guide_parts_1_2.html">ÎŸÎ´Î·Î³ÏŒÏ‚</a>
            <a href="ai-smart-dummies-guide.html">Î‘Î»Ï†Î±Î²Î·Ï„Î¬ÏÎ¹Î¿Î½</a>
            <a href="digital_assets/index.html">Î•Ï€Î¿Ï€Ï„Î¹ÎºÎ¬ ÎœÎ­ÏƒÎ±</a>
            <a href="videos.html">Î’Î¹Î½Ï„ÎµÎ¿Î¸Î®ÎºÎ·</a>
            <a href="neo/index.html">ÎˆÎ´ÏÎ±</a>
            <a href="https://deefunxion.github.io/AILEADER/" target="_blank">Î‘Î³Ï‰Î³Î®</a>
            <a href="didaskalia.html">Î”Î¹Î´Î±ÏƒÎºÎ±Î»Î¯Î±</a>
            <a href="themelion.html">Î˜ÎµÎ¼Î­Î»Î¹Î¿Î½</a>
        </div>

        <!-- Debug Controls (Hidden by default) -->
        <div style="margin-top: 40px; padding: 20px; border: 1px solid #ccc; background: #f9f9f9; display: none;" id="debug-controls">
            <h3>Î•ÏÎ³Î±Î»ÎµÎ¯Î± Î”Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ·Ï‚ (Î“Î¹Î± Î”Î¿ÎºÎ¹Î¼Î­Ï‚)</h3>
            <button onclick="window.progressTracker?.resetProgress()" style="margin-right: 10px;">Î•Ï€Î±Î½ÎµÎºÎºÎ¯Î½Î·ÏƒÎ· Î ÏÎ¿ÏŒÎ´Î¿Ï…</button>
            <button onclick="toggleLegacyNav()" style="margin-right: 10px;">Î•Î¼Ï†Î¬Î½Î¹ÏƒÎ· ÎšÎ»Î±ÏƒÎ¹ÎºÎ®Ï‚ Î Î»Î¿Î®Î³Î·ÏƒÎ·Ï‚</button>
            <button onclick="console.log(window.progressTracker?.getProgressInfo())">Î•Î¼Ï†Î¬Î½Î¹ÏƒÎ· Î Î»Î·ÏÎ¿Ï†Î¿ÏÎ¹ÏÎ½ Î ÏÎ¿ÏŒÎ´Î¿Ï…</button>
        </div>
    </div>

    <!-- Scripts -->
    <script src="learning-path.js"></script>
    <script src="aiq-tracker.js"></script>
    <script src="doodler.js"></script>
    <script src="theme-switcher.js"></script>
    <script src="mobile-nav.js"></script>
    
    <script>
        // Dashboard initialization
        document.addEventListener('DOMContentLoaded', function() {
            generateLevelCards();
            
            // Show debug controls in development (you can remove this)
            if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {
                document.getElementById('debug-controls').style.display = 'block';
            }
        });

        function generateLevelCards() {
            const container = document.getElementById('level-cards-container');
            const allLevels = LearningPathUtils.getAllLevels();
            
            allLevels.forEach((level, index) => {
                const card = createLevelCard(level, index);
                container.appendChild(card);
            });
        }

        function createLevelCard(level, index) {
            const card = document.createElement('a');
            card.href = level.entry_point;
            card.className = 'aiq-level-card locked'; // Start as locked
            card.setAttribute('data-level', level.key);
            
            // External links should open in new tab
            if (level.entry_point.startsWith('http')) {
                card.target = '_blank';
            }
            
            // Calculate level number for display
            const levelNumber = index;
            
            card.innerHTML = `
                <div class="aiq-card-header">
                    <div class="aiq-card-number">Î•Î Î™Î Î•Î”ÎŸ ${levelNumber}</div>
                    <div class="aiq-card-status" data-status="locked">
                        <i class="fa-solid fa-lock"></i>
                    </div>
                </div>
                <div class="aiq-card-content">
                    <div class="aiq-card-icon" style="color: ${level.color}">${level.icon}</div>
                    <div class="aiq-card-title">${level.title}</div>
                    <div class="aiq-card-subtitle">${level.subtitle}</div>
                    <div class="aiq-card-description">${level.description}</div>
                </div>
                <div class="aiq-card-meta">
                    <div class="aiq-card-stats">
                        <span class="aiq-card-time">
                            <i class="fa-solid fa-clock"></i> ${level.estimated_time}
                        </span>
                        <span class="aiq-card-difficulty">
                            <i class="fa-solid fa-chart-line"></i> ${level.difficulty}
                        </span>
                    </div>
                    <div class="aiq-card-reward">
                        <i class="fa-solid fa-brain"></i>
                        <span class="aiq-points">+${getIQPointsForLevel(index)} AI-Q</span>
                    </div>
                </div>
                <div class="aiq-card-progress">
                    <div class="aiq-progress-bar">
                        <div class="aiq-progress-fill" style="width: 0%"></div>
                    </div>
                    <span class="aiq-progress-text">ÎšÎ»ÎµÎ¹Î´Ï‰Î¼Î­Î½Î¿</span>
                </div>
            `;
            
            return card;
        }

        // Helper function to calculate IQ points for each level
        function getIQPointsForLevel(levelIndex) {
            const basePoints = 5;
            const bonusPoints = Math.floor(levelIndex / 2) * 2;
            return basePoints + bonusPoints;
        }

        function toggleLegacyNav() {
            const legacyNav = document.getElementById('legacy-nav');
            legacyNav.style.display = legacyNav.style.display === 'none' ? 'block' : 'none';
        }

        // Update card states when progress changes
        function updateCardStates() {
            if (!window.aiqTracker) return;
            
            const progress = window.aiqTracker.getProgress();
            const unlockedLevels = progress.unlockedLevels || ['level_0'];
            const completedLevels = progress.completedLevels || [];
            
            // Update table rows based on progress
            const rows = document.querySelectorAll('.levels-table tbody tr');
            
            // Level mapping
            const levelMapping = {
                0: 'level_0',  // Î‘Î»Ï†Î±Î²Î·Ï„Î¬ÏÎ¹Î¿Î½ - Ï€ÏÏÏ„Î· Î±Î½Î¬Î³Î½Ï‰ÏƒÎ·
                1: 'level_1',  // Î¤ÎµÏ„ÏÎ¬Î´Î¹Î¿Î½ Î•ÏÎ³Î±ÏƒÎ¹ÏÎ½
                2: 'level_2',  // Î’Î¹Î½Ï„ÎµÎ¿Î¸Î®ÎºÎ·
                3: 'level_3',  // ÎšÏÏÎ¹Î¿ Î’Î¹Î²Î»Î¯Î¿
                4: 'level_4',  // Î•Î³ÎºÏŒÎ»Ï€Î¹Î¿Î½
                5: 'level_5',  // ÎŸÎ´Î·Î³ÏŒÏ‚ Î•ÎºÏ€Î±Î¹Î´ÎµÏ…Ï„Î®
                6: 'level_6',  // Î•Ï€Î¿Ï€Ï„Î¹ÎºÎ¬ ÎœÎ­ÏƒÎ±
                7: 'level_7',  // ÎˆÎ´ÏÎ±
                8: 'level_8',  // Î‘Î³Ï‰Î³Î®
                9: 'level_9'   // Î”Î¹Î´Î±ÏƒÎºÎ±Î»Î¯Î±
            };
            
            rows.forEach((row, index) => {
                const levelKey = levelMapping[index];
                const statusSpan = row.querySelector('span[class*="status-"]');
                
                if (completedLevels.includes(levelKey)) {
                    // Completed state
                    row.className = 'level-completed';
                    statusSpan.className = 'status-completed';
                    statusSpan.textContent = 'ÎŸÎ»Î¿ÎºÎ»Î·ÏÏ‰Î¼Î­Î½Î¿';
                } else if (unlockedLevels.includes(levelKey)) {
                    // Unlocked state
                    row.className = 'level-unlocked';
                    statusSpan.className = 'status-available';
                    statusSpan.textContent = 'Î”Î¹Î±Î¸Î­ÏƒÎ¹Î¼Î¿';
                } else {
                    // Locked state
                    row.className = 'level-locked';
                    statusSpan.className = 'status-locked';
                    statusSpan.textContent = 'ÎšÎ»ÎµÎ¹Î´Ï‰Î¼Î­Î½Î¿';
                }
            });
        }

        // Additional helper functions for AI-Q system
        function toggleProgressDetails() {
            // Show detailed progress modal or expand panel
            const progress = window.aiqTracker?.getProgress();
            if (progress) {
                alert(`Î›ÎµÏ€Ï„Î¿Î¼Î­ÏÎµÎ¹ÎµÏ‚ Î ÏÎ¿ÏŒÎ´Î¿Ï…:\n\nAI-Q Score: ${progress.iq}\nÎÎµÎºÎ»ÎµÎ¹Î´Ï‰Î¼Î­Î½Î± Î•Ï€Î¯Ï€ÎµÎ´Î±: ${progress.unlockedLevels.length}\nÎŸÎ»Î¿ÎºÎ»Î·ÏÏ‰Î¼Î­Î½Î± Î•Ï€Î¯Ï€ÎµÎ´Î±: ${progress.completedLevels.length}\nÎ£Ï…Î½Î¿Î»Î¹ÎºÎ¿Î¯ Î ÏŒÎ½Ï„Î¿Î¹: ${progress.totalPoints || 0}`);
            }
        }

        function resetProgress() {
            if (confirm('Î•Î¯ÏƒÏ„Îµ ÏƒÎ¯Î³Î¿Ï…ÏÎ¿Î¹ ÏŒÏ„Î¹ Î¸Î­Î»ÎµÏ„Îµ Î½Î± ÎµÏ€Î±Î½ÎµÎºÎºÎ¹Î½Î®ÏƒÎµÏ„Îµ Ï„Î·Î½ Ï€ÏÏŒÎ¿Î´ÏŒ ÏƒÎ±Ï‚;')) {
                window.aiqTracker?.resetProgress();
                location.reload();
            }
        }

        // Listen for progress updates
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize AI-Q tracker first
            if (window.aiqTracker) {
                window.aiqTracker.updateUIDisplay();
            }
            
            // Update card states after AI-Q tracker initializes
            setTimeout(updateCardStates, 100);
            
            // Re-update whenever the page becomes visible (in case progress changed in another tab)
            document.addEventListener('visibilitychange', function() {
                if (!document.hidden) {
                    if (window.aiqTracker) {
                        window.aiqTracker.updateUIDisplay();
                    }
                    setTimeout(updateCardStates, 100);
                }
            });
        });
    </script>
</body>
</html>
